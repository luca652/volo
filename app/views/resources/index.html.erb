<%= stylesheet_link_tag 'resources', media: 'all', 'data-turbolinks-track': 'reload' %>

<script>
  // Output a message to the console
  console.log("JavaScript is working!");

  // Select an element and change its text
  var element = document.getElementById("test-element");
  if (element) {
    element.textContent = "JavaScript is working!";
  }

  // Filter button click event handler
  var filterButton = document.getElementById("filter-button");
  if (filterButton) {
    filterButton.addEventListener("click", function() {
      var category = document.getElementById("category-select").value;
      console.log("Filter by category: " + category);

      // Perform filtering logic here

    });
  }
</script>



<div class="container">
<script>
document.addEventListener("DOMContentLoaded", function() {
  var categoryFilter = document.getElementById('category-filter');
  categoryFilter.addEventListener('change', handleCategoryFilterChange);

  function handleCategoryFilterChange() {
    var selectedCategory = categoryFilter.value;
    var cards = document.getElementsByClassName('card');

    for (var i = 0; i < cards.length; i++) {
      var card = cards[i];
      var cardCategory = card.getAttribute('data-category');

      if (selectedCategory === "" || cardCategory === selectedCategory) {
        card.style.display = "block";
      } else {
        card.style.display = "none";
      }
    }
  }
});
</script>

  <div class="filter-container">
    <label for="category-filter">Filter by Category:</label>
    <select id="category-filter">
      <option value="">All Categories</option>
      <% @categories.each do |category| %>
        <option value="<%= category %>"><%= category %></option>
      <% end %>
    </select>
  </div>

  <div class="card-container">
    <% @resources.each do |resource| %>
      <div class="card" data-category="<%= resource.category %>">
        <div class="card-body">
          <h5 class="card-title"><%= resource.title %></h5>
          <p class="card-text card-text-category"><%= resource.category %></p>
          <p class="card-text"><%= resource.comment %></p>
          <p class="card-text"><%= resource.picture_url %></p>
          <a href="#" class="pin-button"><i class="fas fa-thumbtack"></i></a>
        </div>
      </div>
    <% end %>
  </div>
</div>
